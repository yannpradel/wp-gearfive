/** 
 *	Helpers for the Menu
 */
#Const Version		"2023-01-16"
#Const ScriptName	"Libs/Nadeo/TMNext/TrackMania/Menu/Menu.Script.txt"

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// Globales
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
declare Boolean G_IsRequestingRestart;
declare Boolean G_SkipStartScreens;

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// Functions
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
/// Request or cancel a restart of the menu
Void RequestRestart(Boolean _Restart) {
	G_IsRequestingRestart = _Restart;
	if (G_IsRequestingRestart) {
		G_SkipStartScreens = True;
	}
}
Void RequestRestart() {
	RequestRestart(True);
}

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
/// Check if a restart of the menu was requested
Boolean IsRequestingRestart() {
	return G_IsRequestingRestart;
}

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
/// Call this functions once the start screens have been skipped
Void StartScreensSkipped() {
	G_SkipStartScreens = False;
}

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
/// Check if a skip of the start screens is required
Boolean MustSkipStartScreens() {
	return G_SkipStartScreens;
}

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// Unload library
Void Unload() {
	G_IsRequestingRestart = False;
	// Do not reset `G_SkipStartScreens` here. We need to keep its previous value when the menu restart.
}

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// Load library
Void Load() {
	Unload();
}