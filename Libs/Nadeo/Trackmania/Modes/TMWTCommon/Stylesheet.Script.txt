/**
 *	Manialink stylesheet for TMWT
 */
#Const Version		"1.0.0"
#Const ScriptName	"Libs/Nadeo/Trackmania/Modes/TMWTCommon/Stylesheet.Script.txt"

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// Libraries
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
#Include "ColorLib" as CL
#Include "Libs/Nadeo/CMGame/Utils/Stylesheet.Script.txt" as Stylesheet

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// Constant
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
#Const C_Class_Text_ExtraBold "tmwt-common_text-extra-bold"
#Const C_Class_Text_SemiBold "tmwt-common_text-semi-bold"
#Const C_Class_Gradient_BlueTeam "tmwt-common_gradient-blue-team"
#Const C_Class_Gradient_RedTeam "tmwt-common_gradient-red-team"
#Const C_Class_Gradient_Accent "tmwt-common_gradient-accent"
#Const C_Class_Gradient_WarmUp "tmwt-common_gradient-warmup"
#Const C_Class_BackgroundBgColor_Default "tmwt-common_background-bg-color-default"
#Const C_Class_BackgroundColorize_Default "tmwt-common_background-colorize-default"
#Const C_Class_BackgroundBgColor_Accent "tmwt-common_background-bg-color-accent"
#Const C_Class_BackgroundColorize_Accent "tmwt-common_background-colorize-accent"
#Const C_Class_BackgroundBgColor_WarmUp "tmwt-common_background-bg-color-warmup"
#Const C_Class_BackgroundColorize_WarmUp "tmwt-common_background-colorize-warmup"
#Const C_Class_Border_Default "tmwt-common_border-default"
#Const C_Class_Border_Accent "tmwt-common_border-accent"

#Const C_ColorHex6_TMWT_Default "FFFFFF"
#Const C_ColorRGB_TMWT_Default <1., 1., 1.>
#Const C_ColorHex6_TMWT_BorderWhite "FFFFFF"
#Const C_ColorRGB_TMWT_BorderWhite <1., 1., 1.>
#Const C_ColorHex6_TMWT_BlueMain "07004C"
#Const C_ColorRGB_TMWT_BlueMain <0.03, 0., 0.3>
#Const C_ColorHex6_TMWT_RedMain "490000"
#Const C_ColorRGB_TMWT_RedMain <0.29, 0., 0.0>
#Const C_ColorHex6_TMWT_PinkMain "EA0089"
#Const C_ColorRGB_TMWT_PinkMain <0.92, 0., 0.54>
#Const C_ColorHex6_TMWT_BlueTeam "2C49DB"
#Const C_ColorRGB_TMWT_BlueTeam <0.17, 0.29, 0.86>
#Const C_ColorHex6_TMWT_RedTeam "BC3131"
#Const C_ColorRGB_TMWT_RedTeam <0.74, 0.19, 0.19>
#Const C_ColorHex6_TMWT_BluePoint "2C49DB"
#Const C_ColorRGB_TMWT_BluePoint <0.17, 0.29, 0.86>
#Const C_ColorHex6_TMWT_RedPoint "EA3636"
#Const C_ColorRGB_TMWT_RedPoint <0.92, 0.21, 0.21>
#Const C_ColorHex6_TMWT_RankDown "D61919"
#Const C_ColorRGB_TMWT_RankDown <0.84, 0.1, 0.1>
#Const C_ColorHex6_TMWT_RankUp "009B5F"
#Const C_ColorRGB_TMWT_RankUp <0., 0.608, 0.372>

#Const C_BorderWidth 0.5

#Const C_Theme_TMGL 0
#Const C_Theme_Classic 1

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// Functions
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// Get the class color in vector format
Vec3 GetVec3Color(Text _Class, Integer _Theme) {
	switch (_Class) {
		case C_Class_Gradient_BlueTeam: {
			return C_ColorRGB_TMWT_BlueTeam;
		}
		case C_Class_Gradient_RedTeam: {
			return C_ColorRGB_TMWT_RedTeam;
		}
		case C_Class_Gradient_Accent: {
			switch (_Theme) {
				case C_Theme_TMGL: return C_ColorRGB_TMWT_PinkMain;
				case C_Theme_Classic: return Stylesheet::GetColorRGB(Stylesheet::C_Color_BGDark);
			}
		}
		case C_Class_Gradient_WarmUp: {
			switch (_Theme) {
				case C_Theme_TMGL: return C_ColorRGB_TMWT_PinkMain;
				case C_Theme_Classic: return Stylesheet::GetColorRGB(Stylesheet::C_Color_WarmUp);
			}
		}
		case C_Class_BackgroundBgColor_Default: {
			switch (_Theme) {
				case C_Theme_TMGL: return C_ColorRGB_TMWT_BlueMain;
				case C_Theme_Classic: return Stylesheet::GetColorRGB(Stylesheet::C_Color_BGDark);
			}
		}
		case C_Class_BackgroundColorize_Default: {
			switch (_Theme) {
				case C_Theme_TMGL: return C_ColorRGB_TMWT_BlueMain;
				case C_Theme_Classic: return Stylesheet::GetColorRGB(Stylesheet::C_Color_BGDark);
			}
		}
		case C_Class_BackgroundBgColor_Accent: {
			switch (_Theme) {
				case C_Theme_TMGL: return C_ColorRGB_TMWT_PinkMain;
				case C_Theme_Classic: return Stylesheet::GetColorRGB(Stylesheet::C_Color_BGDark);
			}
		}
		case C_Class_BackgroundColorize_Accent: {
			switch (_Theme) {
				case C_Theme_TMGL: return C_ColorRGB_TMWT_PinkMain;
				case C_Theme_Classic: return Stylesheet::GetColorRGB(Stylesheet::C_Color_BGDark);
			}
		}
		case C_Class_BackgroundBgColor_WarmUp: {
			switch (_Theme) {
				case C_Theme_TMGL: return C_ColorRGB_TMWT_PinkMain;
				case C_Theme_Classic: return Stylesheet::GetColorRGB(Stylesheet::C_Color_WarmUp);
			}
		}
		case C_Class_BackgroundColorize_WarmUp: {
			switch (_Theme) {
				case C_Theme_TMGL: return C_ColorRGB_TMWT_PinkMain;
				case C_Theme_Classic: return Stylesheet::GetColorRGB(Stylesheet::C_Color_WarmUp);
			}
		}
		case C_Class_Border_Default: {
			return C_ColorRGB_TMWT_BorderWhite;
		}
		case C_Class_Border_Accent: {
			switch (_Theme) {
				case C_Theme_TMGL: return C_ColorRGB_TMWT_PinkMain;
				case C_Theme_Classic: return C_ColorRGB_TMWT_BorderWhite;
			}
		}
	}
	return C_ColorRGB_TMWT_Default;
}

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// Get the class color in hexadecimal format
Text GetHexColor(Text _Class, Integer _Theme) {
	return CL::RgbToHex6(GetVec3Color(_Class, _Theme));
}

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// Get the stylesheet to inject in the manialink
Text Get(Integer _Theme) {
	return """
<stylesheet>
	<style class="{{{C_Class_Text_ExtraBold}}}" textprefix="$t" textfont="{{{Stylesheet::GetFont(Stylesheet::C_Font_Weight_ExtraBold)}}}" textcolor="{{{Stylesheet::GetColorHex6(Stylesheet::C_Color_TextLight)}}}" />
	<style class="{{{C_Class_Text_SemiBold}}}" textprefix="$t" textfont="{{{Stylesheet::GetFont(Stylesheet::C_Font_Weight_SemiBold)}}}" textcolor="{{{Stylesheet::GetColorHex6(Stylesheet::C_Color_TextLight)}}}" />
	<style class="{{{C_Class_Gradient_BlueTeam}}}" colorize="{{{GetHexColor(C_Class_Gradient_BlueTeam, _Theme)}}}" opacity="0.8" />
	<style class="{{{C_Class_Gradient_RedTeam}}}" colorize="{{{GetHexColor(C_Class_Gradient_RedTeam, _Theme)}}}" opacity="0.8" />
	<style class="{{{C_Class_Gradient_Accent}}}" colorize="{{{GetHexColor(C_Class_Gradient_Accent, _Theme)}}}" opacity="0.8" />
	<style class="{{{C_Class_Gradient_WarmUp}}}" colorize="{{{GetHexColor(C_Class_Gradient_WarmUp, _Theme)}}}" opacity="0.8" />
	<style class="{{{C_Class_BackgroundBgColor_Default}}}" bgcolor="{{{GetHexColor(C_Class_BackgroundBgColor_Default, _Theme)}}}" opacity="0.8" />
	<style class="{{{C_Class_BackgroundColorize_Default}}}" colorize="{{{GetHexColor(C_Class_BackgroundColorize_Default, _Theme)}}}" opacity="0.8" />
	<style class="{{{C_Class_BackgroundBgColor_Accent}}}" bgcolor="{{{GetHexColor(C_Class_BackgroundBgColor_Accent, _Theme)}}}" opacity="0.8" />
	<style class="{{{C_Class_BackgroundColorize_Accent}}}" colorize="{{{GetHexColor(C_Class_BackgroundColorize_Accent, _Theme)}}}" opacity="0.8" />
	<style class="{{{C_Class_BackgroundBgColor_WarmUp}}}" bgcolor="{{{GetHexColor(C_Class_BackgroundBgColor_WarmUp, _Theme)}}}" opacity="0.8" />
	<style class="{{{C_Class_BackgroundColorize_WarmUp}}}" colorize="{{{GetHexColor(C_Class_BackgroundColorize_WarmUp, _Theme)}}}" opacity="0.8" />
	<style class="{{{C_Class_Border_Default}}}" bgcolor="{{{GetHexColor(C_Class_Border_Default, _Theme)}}}" />
	<style class="{{{C_Class_Border_Accent}}}" bgcolor="{{{GetHexColor(C_Class_Border_Accent, _Theme)}}}" />
</stylesheet>
	""";
}
Text Get() {
	return Get(C_Theme_TMGL);
}