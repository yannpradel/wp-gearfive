/**
 *	Overlay: Toolbox
 */
#Const Version		"2.1.0"
#Const ScriptName	"Libs/Nadeo/Trackmania/MainMenu/Overlays/ToolBox.Script.txt"

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// Includes
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
#Include "Libs/Nadeo/CMGame/Components/ToolBox.Script.txt" as ToolBox
#Include "Libs/Nadeo/CMGame/Utils/ManiaView2.Script.txt" as MV
#Include "Libs/Nadeo/Trackmania/MainMenu/Constants.Script.txt" as Const

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// Constants
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
#Const C_Name "Overlay_ToolBox"
#Const P "OverlayToolBox_" //< Prefix used to differentiate functions/variables in the script

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
// Functions
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ //
/**
 * Get the page manialink
 * @return The page manialink
 */
Text GetManialink() {
	return MV::Create(C_Name, 3,
		"""
<frameinstance id="{{{P}}}frame-toolbox" modelid="{{{ToolBox::C_Name}}}" z-index="{{{Const::C_ZIndex_Toolbox}}}"/>
		""",
		"""
#Include "Libs/Nadeo/CMGame/Utils/Config.Script.txt" as Config
		""",
		"""
***MainLoop***
***
foreach (Event in PendingEvents) {
	switch (Event.Type) {
		case CMlScriptEvent::Type::KeyPress: {
			if (Config::HasFeature(Config::C_Feature_DebugToolBox)) {
				// Y (keycode 142) is pressed
				if (Input != Null && Input.IsKeyPressed(142)) {
					if (Event.KeyName == "F3") {
						{{{ToolBox::P}}}OpenClose(This);
					}
				}
			}
		}
	}
}
***
		""",
		[ToolBox::ComponentV2()],
		[]
	);
}