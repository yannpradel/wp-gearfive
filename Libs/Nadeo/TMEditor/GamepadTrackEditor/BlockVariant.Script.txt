/**
 * Block variant library
 */

#Const Version		"1.0.0"
#Const ScriptName	"BlockVariant.Script.txt"

#Include "Libs/Nadeo/TMEditor/GamepadTrackEditor/Macroblock.Script.txt" as Macroblock


Text GetScriptVersion() { return Version; }
Text GetScriptName() { return ScriptName; }

// Get the variant identifier needed to place a macroblock on this block
Integer GetVariant(CBlock _Block) {
	if (_Block == Null) return Macroblock::VariantAir();
	switch (_Block.BlockModel.Name) {
		case "Forest": return Macroblock::VariantForest();
		case "ForestHill1": return Macroblock::VariantForest();
		case "GrassToForest": return Macroblock::VariantForestEdge();
		case "Sea": return Macroblock::VariantWater();
	}

	if (_Block.BlockModel.IsTerrain) return Macroblock::VariantGround();

	return Macroblock::VariantNull();
}

// Get the variant identifier needed to place a macroblock at this coordinates
Integer GetVariant(Int3 _Coord) {
	return GetVariant(GetBlock(_Coord));
}